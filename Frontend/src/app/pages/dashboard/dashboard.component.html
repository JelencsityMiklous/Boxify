
    <div class="page-wrapper">
      <!-- STATS -->
      <div class="stats-grid">
        <div class="stat-card" style="--ac: var(--accent)">
          <div class="stat-label">√ñsszes doboz</div>
          <div class="stat-value">{{ stats?.totalBoxes ?? '‚Äì' }}</div>
          <div class="stat-sub">{{ stats?.emptyBoxes }} √ºres ¬∑ {{ stats?.activeBoxes }} akt√≠v</div>
        </div>
        <div class="stat-card" style="--ac: var(--accent3)">
          <div class="stat-label">√ñsszes t√°rgy</div>
          <div class="stat-value">{{ stats?.totalItems ?? '‚Äì' }}</div>
          <div class="stat-sub">{{ stats?.categories?.length ?? 0 }} kateg√≥ri√°ban</div>
        </div>
        <div class="stat-card" style="--ac: var(--accent2)">
          <div class="stat-label">Foglalt s√∫ly</div>
          <div class="stat-value">{{ stats?.totalUsedWeight ?? '‚Äì' }}<span class="stat-unit">kg</span></div>
          <div class="stat-sub">{{ stats?.totalMaxWeight }} kg kapacit√°sb√≥l</div>
        </div>
        <div class="stat-card" style="--ac: #b47dff">
          <div class="stat-icon">üìä</div>
          <div class="stat-label">√Åtl. tel√≠tetts√©g</div>
          <div class="stat-value">{{ stats?.avgVolumeFill ?? '‚Äì' }}<span class="stat-unit">%</span></div>
          <div class="stat-sub">t√©rfogat alapj√°n</div>
        </div>
      </div>

      <div class="content-grid">
        <!-- TOP BOXES -->
        <div class="bx-card">
          <div class="bx-card-header">
            <span> Legtel√≠tettebb dobozok</span>
            <a routerLink="/boxes" class="link-sm">√ñsszes ‚Üí</a>
          </div>
          <div class="bx-card-body">
            <div *ngIf="loading" class="empty-state">Bet√∂lt√©s‚Ä¶</div>
            <div *ngIf="!loading && !stats?.topBoxes?.length" class="empty-state">M√©g nincsenek dobozok</div>
            <div *ngFor="let entry of stats?.topBoxes" class="fill-item">
              <div class="fill-meta">
                <div>
                  <div class="fill-name">{{ entry.box.name }}</div>
                  <div class="fill-code mono">{{ entry.box.code }}</div>
                </div>
                <div class="fill-pct" [class]="fillClass(entry.fill.volumeFillPercent)">
                  {{ entry.fill.volumeFillPercent }}%
                </div>
              </div>
              <p-progressBar
                [value]="entry.fill.volumeFillPercent"
                [showValue]="false"
                [style]="{ height: '6px', background: 'var(--surface2)' }"
                [styleClass]="'fill-pb-' + fillClass(entry.fill.volumeFillPercent)"
              ></p-progressBar>
            </div>
          </div>
        </div>

        <!-- CATEGORIES -->
        <div class="bx-card">
          <div class="bx-card-header">
            <span> Kateg√≥ri√°k</span>
          </div>
          <div class="bx-card-body">
            <div *ngIf="!stats?.categories?.length" class="empty-state">M√©g nincsenek t√°rgyak</div>
            <div *ngFor="let cat of stats?.categories; let i = index" class="cat-item">
              <div class="cat-dot" [style.background]="catColors[i % catColors.length]"></div>
              <div class="cat-name muted">{{ cat.name }}</div>
              <div class="cat-count mono">{{ cat.count }} db</div>
            </div>
          </div>
        </div>
      </div>
    </div>